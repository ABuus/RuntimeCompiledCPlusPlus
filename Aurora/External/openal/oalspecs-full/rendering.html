<HTML
><HEAD
><TITLE
>Listener and Sources</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.44"><LINK
REL="HOME"
TITLE="      OpenAL Specification and Reference
    "
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Velocity Dependent Doppler Effect"
HREF="doppler-scale.html"><LINK
REL="NEXT"
TITLE="Listener Object"
HREF="object-listener.html"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>OpenAL Specification and Reference</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="doppler-scale.html"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="object-listener.html"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="RENDERING"
>Listener and Sources</A
></H1
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="OBJECT-STATE"
>Basic Listener and Source Attributes</A
></H1
><P
>       This section introduces basic attributes which can be set both for 
       the Listener object and for Source objects.
    </P
><DIV
CLASS="NOTE"
><A
NAME="RFC-BK000619-02"
></A
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>RFC: attribute grouping</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>       JM: "These attributes are of
       two types:  non-positional and positional.
       Non-positional properties include gain control and Environment Name."
     </P
><P
>      I said: (low pass) Filters are applied to the sound during processing 
      at various stages. The exact sequence in which Filters are applied is 
      determined based on the location of the Objects they are 
      set for - spatial arrangement of Objects determines the
      sequence unless invariance is guaranteed, or invariance
     violation is permitted by the specification and current AL
     configuration state.
      </P
><P
>      Is there a required order of application, i.e. a pipeline? 
      </P
><P
>      Filter Parameters vs. Non-positional properties.
      Spatialization vs. Positional properties.
      Spatial attributes?
      Let's postpone grouping of attributes. 
      </P
></TD
></TR
></TABLE
></DIV
><P
>      The AL Listener and Sources have attributes to describe 
      their position, velocity and orientation in three dimensional space.
      AL like OpenGL, uses a right-handed Cartesian coordinate system (RHS), 
      where in a frontal default view X (thumb) points right,
      Y (index finger) points up , and Z (middle finger) points towards 
      the viewer/camera. To switch from a left handed coordinate system (LHS)
      to a right handed coordinate systems, flip the sign on the Z coordinate.
    </P
><P
>    <DIV
CLASS="TABLE"
><P
><B
>Table 1. Listener/Source Position</B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Name</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Signature</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Values</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Default</TH
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>POSITION</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>3fv, 3f</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> any except NaN </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> { 0.0f, 0.0f, 0.0f } </TD
></TR
></TABLE
></DIV
>
    Description:
        POSITION specifies the current location of the Object in the
 	world coordinate system. Any 3-tuple of valid float/double values 
 	is allowed. Implementation behavior on encountering NaN and Infinity 
        is not defined. The Object position is always defined in the
        world coordinate system.
    </P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Annotation (No Transformation)</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>        AL does not support transformation operations on Objects.
        Support for transformation matrices is not planned.
       </P
></TD
></TR
></TABLE
></DIV
><P
>    <DIV
CLASS="TABLE"
><P
><B
>Table 2. Listener/Source Velocity</B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Name</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Signature</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Values</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Default</TH
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>VELOCITY</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>3fv, 3f</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> any except NaN </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> { 0.0f, 0.0f, 0.0f } </TD
></TR
></TABLE
></DIV
>     
    Description:
        VELOCITY specifies the current velocity (speed and direction) of
 	the Object, in the world coordinate system. Any 3-tuple of valid 
 	float/double values is allowed. The Object VELOCITY does not affect 
        its position.
        AL does not calculate the velocity from subsequent position
 	updates, nor does it adjust the position over time based on
 	the specified velocity. Any such calculation is left to the
 	application. For the purposes of sound processing, position and
 	velocity are independent parameters affecting different aspects
 	of the sounds. 
       </P
><P
>        VELOCITY is taken into account by the driver to synthesize the 
        Doppler effect perceived by the Listener for each source, based 
        on the velocity of both Source and Listener, and the Doppler
        related parameters.
    </P
><P
>    <DIV
CLASS="TABLE"
><P
><B
>Table 3. Listener/Source Gain (logarithmic)</B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Name</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Signature</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Values</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Default</TH
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>GAIN</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>f</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>0.0f, (0.0f, any</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> 1.0f</TD
></TR
></TABLE
></DIV
>
     Description:
        GAIN defines a scalar amplitude multiplier. As a Source attribute, it applies
 	to that particular source only. As a Listener attribute, it effectively
        applies to all Sources in the current Context. The default 1.0 means 
        that the sound is un-attenuated. A GAIN value of 0.5 is equivalent to 
        an attenuation of 6 dB. The value zero equals silence (no output). Driver 
        implementations are free to optimize this case and skip mixing and 
        processing stages where applicable. The implementation is in charge of 
        ensuring artifact-free (click-free) changes of gain values and is free 
        to defer actual modification of the sound samples, within the limits of 
        acceptable latencies.
    </P
><P
>        GAIN larger than 1 (amplification) is permitted for Source and
        Listener. However, the implementation is free to clamp the
        total gain (effective gain per source times listener gain)
        to 1 to prevent overflow.
    </P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Annotation/ Effective Minimal Distance</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>         Presuming that the sample uses the entire dynamic range of
         the encoding format, an effective gain of 1 represents the 
         maximum volume at which a source can reasonably be played.
         During processing, the implementation combines the Source
         GAIN (or MIN_GAIN, if set and larger) with distance based
         attenuation. The distance at which the effective gain is 1
         is equivalent to the DirectSound3D MIN_DISTANCE parameter.  
         Once the effective gain has reached the maximum possible
         value, it will not increase with decreasing distance anymore.
      </P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Annotation (Muting a Context)</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>         To mute the current context, simply set Listener GAIN to zero.
         The implementation is expected to optimize for this case,
         calculating necessary (offset) updates but bypassing the 
         mixing and releasing hardware resources.
         The specification does not guarantee that the implementation
         will release hardware resources used by a muted context.
       </P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Annotation (Muting a Source)</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>        To mute a Source, set Source GAIN to zero. The AL implementation
        is encouraged to optimize for this case. 
       </P
></TD
></TR
></TABLE
></DIV
><P
>        <DIV
CLASS="NOTE"
><A
NAME="RF-BK000503-01"
></A
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>RFC: GAIN &#62; 1?</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>       
        GAIN could exceed 1 (to compensate attenuation elsewhere, or to account 
        for grater dynamic range of the hardware? No guarantees are made with 
        respect to range overflows? Precision loss? Culling by effective gain?
        Does AL clip values during processing, and when/at what stages?
        </P
></TD
></TR
></TABLE
></DIV
>

        <DIV
CLASS="NOTE"
><A
NAME="RFC-BK000619-01"
></A
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>RFC: Doppler</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>        JM wrote: "VELOCITY is used by the driver
        to synthesize the Doppler effect perceived by the listener for each
 	source, based on the relative velocity of this source with respect
 	to the listener."
        Doppler is calculated using Source and Listener velocities measured 
        with respect to the medium. Do we have to account for the medium
        to move (offsetting listener/source) in later revisions (air/water currents)?
        </P
></TD
></TR
></TABLE
></DIV
>
   
        <DIV
CLASS="NOTE"
><A
NAME="RFC-BK000619-03"
></A
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>RFC:</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>        JM removed: "For the purposes of sound processing, position and
        velocity are independent parameters affecting different paths
        in the sound synthesis." I think the "different aspects of sounds"
        is ambiguous. Is there a problem with describing AL as a
        multichannel processing machine?
        </P
></TD
></TR
></TABLE
></DIV
>
    </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="doppler-scale.html"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="object-listener.html"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Velocity Dependent Doppler Effect</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Listener Object</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>